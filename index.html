<!DOCTYPE html>
<html>
    <head>
        <mete charset=""usf-8>
        <title>2024å¹´æ–°æ˜¥ãƒ„ãƒŠã¿ãã˜</title>
        <link rel="stylesheet" type="text/css" href="medeta.css">

    </head>
    	
    <div style="text-align:center;"> 
        <div class="title-border">
            <h1>ğŸ‰è¬¹è³€æ–°å¹´ğŸ‰</h1>
        </div>
    
    <body>
        <p>
            ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™!!<br>
            æ˜¨å¹´ã¯å¤§å¤‰ãŠä¸–è©±ã«ãªã‚Šã¾ã—ãŸã€‚<br>
            ä»Šå¹´ã‚‚æ§˜ã€…ãªã“ã¨ãŒèµ·ã“ã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€
            è‰¯ãä¸€å¹´ã‚’ãŠéã”ã—ãã ã•ã„!<br><br>
            ä»¤å’Œå…­å¹´ å…ƒæ—¦<br><br><br>
        </p>
        
        <div style="background: #e9e4d4; border: 1px solid #e9e4d4; padding-left: 20px;">
        <span style="color: #c53d43;"><font size="5">ãŠã¿ãã˜ ã“ã‰ãªãâ›©ï¸</font></span></div> 
        <div style="border: 1px solid #e9e4d4; font-size: 100%; padding: 20px;">

            <p>åˆç©‚æ–™ 0å††<br>
                é»„è‰²ã„ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãŠã¿ãã˜ã‚’å¼•ã</p>
            <br>
            <!--https://bitbeans.com/blog/javascript_omikuji/-->
            <button id="draw" class="btn"></button>
            <p id="start" class="start">
                <br><br>
                <img id="rotate" src="omikuji.png" width="150" alt="ãŠã¿ãã˜">
            </p>
            <p>
                <img src="" id="fortune" class="fortune">
            </p>

            <script>

                const results = [
                    'daikichi.png',
                    'kichi.png',
                    'tyuukichi.png',
                    'tyuukichi.png',
                    'syoukichi.png',
                    'syoukichi.png',
                    'suekichi.png',
                    'suekichi.png',
                    'kyou.png'
                ];
            
                const elem = document.getElementById('draw');
                const element = document.getElementById('start');
                const rotateItem = document.getElementById('rotate');
                const target = document.getElementById('#draw');
            
                elem.addEventListener('click', function() {
                if (element != null) {
                    tatefuri();
                }
                });
            
                function tatefuri() {
                element.animate(
                    [{
                    transform: 'translateY(0)'
                    }, {
                    transform: 'translateY(-30px)'
                    }, {
                    transform: 'translateY(0)'
                    }], {
                    duration: 700,
                    iterations: 3
                    });
                setTimeout(function() {
                    kaiten();
                }, 2400);
                }
            
                function kaiten() {
                element.animate(
                    [{
                    transform: 'rotate(0deg)'
                    }, {
                    transform: 'rotate(180deg)'
                    }], {
                    duration: 700,
                    easing: 'linear',
                    fill: 'forwards'
                    });
                setTimeout(function() {
                    touka();
                    btn();
                }, 1000);
                }
            
                function btn() {
                target.animate(
                    [{
                    opacity: 1
                    }, {
                    opacity: 0
                    }], {
                    duration: 500,
                    fill: 'forwards'
                    });
                setTimeout(function() {
                    target.remove();
                }, 500);
                }
            
                function touka() {
                element.animate(
                    [{
                    opacity: 1
                    }, {
                    opacity: 0
                    }], {
                    duration: 500,
                    fill: 'forwards'
                    });
                setTimeout(function() {
                    element.remove();
                    fortuneAnime();
                }, 500);
                }
            
                function fortuneAnime() {
                const key = Math.floor(Math.random() * results.length);
                const fortune = document.getElementById("fortune");
                fortune.style.width = '400px';
                fortune.style.height = 'auto';
                fortune.src = results[key];
                fortune.animate(
                    [{
                    transform: 'translateY(0) scale(1)'
                    }, {
                    transform: 'translateY(-30px)'
                    }, {
                    transform: 'scale(1)'
                    }, {
                    transform: 'scale(1.1)'
                    }, {
                    transform: 'translateY(0) scale(1)'
                    }], {
                    duration: 1000,
                    fill: 'forwards'
                    });
                } 
                
            </script>
        </div>
        </div>
        </div>
    </body>
